<!DOCTYPE html>
<html lang="en">

<head th:replace="~{fragments/head}">
</head>

<body>

<div>
    <nav th:replace="~{fragments/navbar}"></nav>
</div>

<div class="container">
    <h2 class="text-center text-white">Upload Product</h2>
    <form th:method="POST"
          th:action="@{/products/add}"
          th:object="${productDTO}"
          class="main-form mx-auto col-md-8 d-flex flex-column justify-content-center"
          enctype="multipart/form-data">

        <!-- First Row: Title and Price -->
        <div class="row">
            <div class="form-group col-md-6">
                <label class="text-white font-weight-bold" for="title">Title</label>
                <input id="title"
                       th:field="*{title}"
                       th:errorclass="is-invalid"
                       type="text"
                       class="form-control"
                       placeholder="Title">
                <p class="invalid-feedback errors alert alert-danger">Title is required.</p>
            </div>
            <div class="form-group col-md-6">
                <label for="price" class="text-white font-weight-bold">Price</label>
                <input id="price"
                       th:field="*{price}"
                       th:errorclass="is-invalid"
                       type="number"
                       class="form-control"
                       placeholder="Suggested price"/>
                <p class="invalid-feedback errors alert alert-danger">Price is required.</p>
            </div>
        </div>

        <!-- Second Row: Primary Image and Images -->
        <div class="row">
            <div class="form-group col-md-6">
                <label class="text-white font-weight-bold" for="primaryImage">Primary Image</label>
                <input type="file"
                       name="images"
                       th:field="*{primaryImage}"
                       id="primaryImage"
                       class="form-control-file"
                       aria-describedby="images"
                       multiple>
                <small id="inputPrimaryImgError"
                       th:errors="*{images}"
                       class="form-text bg-danger rounded">Must be valid images</small>
            </div>
            <div class="form-group col-md-6">
                <label class="text-white font-weight-bold" for="images">Images</label>
                <input type="file"
                       name="images"
                       th:field="*{images}"
                       id="images"
                       class="form-control-file"
                       aria-describedby="images"
                       multiple>
                <small id="inputImageError"
                       th:errors="*{images}"
                       class="form-text bg-danger rounded">Must be valid images</small>
            </div>
        </div>

        <!-- Third Row: Category -->
        <div class="row">
            <div class="form-group col-md-12">
                <label class="text-white font-weight-bold" for="category">Category</label>
                <select id="category"
                        th:field="*{subCategory}"
                        th:errorclass="is-invalid"
                        class="form-control">
                    <option value="">- Select category -</option>
                    <optgroup th:each="categorie : ${categories}" th:label="${categorie.getName()}">
                        <option th:each="subCategory : ${categorie.getSubCategories()}"
                                th:text="${subCategory.getName()}"
                                th:value="${subCategory.getName()}"
                                th:selected="${subCategory.name}">Model
                        </option>
                    </optgroup>
                </select>
                <p class="invalid-feedback errors alert alert-danger">Category is required.</p>
            </div>
        </div>

        <!-- Fourth Row: Description -->
        <div class="row">
            <div class="form-group col-md-12">
                <label class="text-white font-weight-bold" for="description">Description</label>
                <textarea id="description"
                          th:field="*{description}"
                          th:errorclass="is-invalid"
                          type="textarea"
                          class="form-control"
                          rows="3"
                          placeholder="Description">
                </textarea>
                <p class="invalid-feedback errors alert alert-danger">Description is required.</p>
            </div>
        </div>

        <!-- Submit Button -->
        <div class="row">
            <div class="col-md-12">
                <div class="button-holder d-flex justify-content-center">
                    <input type="submit" class="btn btn-info btn-lg" value="Submit Offer"/>
                </div>
            </div>
        </div>
    </form>
</div>


<div>
    <footer> </footer>
</div>

</body>
</html>
